(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(16),r=t.n(c),u=t(3),o=t(2),a=t(0),i=function(e){var n=e.value,t=e.onChange;return Object(a.jsxs)("div",{children:["filter shown with ",Object(a.jsx)("input",{value:n,onChange:t})]})},s=function(e){var n=e.person,t=e.onClickDelete;return Object(a.jsxs)("div",{children:[n.name," ",n.number," ",Object(a.jsx)("button",{onClick:t,children:"delete"})]})},l=function(e){var n=e.persons,t=e.deletePersonHandler;return Object(a.jsx)("div",{children:n.map((function(e){return Object(a.jsx)(s,{person:e,onClickDelete:function(){t(e.id)}},e.id)}))})},d=function(e){var n=e.message;return null===n?null:Object(a.jsx)("div",{className:n?"active":null,children:n})},j=function(e){return Object(a.jsxs)("form",{onSubmit:e.addNewPerson,children:[Object(a.jsxs)("div",{children:["name: ",Object(a.jsx)("input",{value:e.newName,onChange:e.handleNameChange})]}),Object(a.jsxs)("div",{children:["number: ",Object(a.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",children:"add"})})]})},b=t(4),f=t.n(b),h="/api/persons",O={getAll:function(){return f.a.get(h).then((function(e){return e.data}))},create:function(e){return f.a.post(h,e).then((function(e){return e.data}))},update:function(e,n){return f.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},del:function(e){return f.a.delete("".concat(h,"/").concat(e))}},m=function(){var e=Object(o.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)(""),s=Object(u.a)(r,2),b=s[0],f=s[1],h=Object(o.useState)(""),m=Object(u.a)(h,2),v=m[0],p=m[1],x=Object(o.useState)(""),g=Object(u.a)(x,2),C=g[0],w=g[1],N=Object(o.useState)(null),k=Object(u.a)(N,2),S=k[0],P=k[1];Object(o.useEffect)((function(){O.getAll().then((function(e){c(e)})).catch((function(e){console.log(e)}))}),[]);var y=t.filter((function(e){return!0===e.name.toLowerCase().includes(C.toLowerCase())}));return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Phonebook"}),Object(a.jsx)(d,{message:S}),Object(a.jsx)(i,{value:C,onChange:function(e){w(e.target.value)}}),Object(a.jsx)(j,{addNewPerson:function(e){e.preventDefault();var n={name:b,number:v};O.create(n).then((function(e){c((function(n){return n.concat(e)})),f(""),p(""),P("Added ".concat(e.name," to phonebook")),setTimeout((function(){P(null)}),3e3)})).catch((function(e){var n=e.response.data;P("".concat(n.error.msg)),setTimeout((function(){P(null)}),3e3)}))},newName:b,handleNameChange:function(e){f(e.target.value)},newNumber:v,handleNumberChange:function(e){p(e.target.value)}}),Object(a.jsx)(l,{persons:y,deletePersonHandler:function(e){O.del(e).then((function(n){c((function(n){return n.filter((function(n){return n.id!==e}))}))})).catch((function(n){c((function(n){return n.filter((function(n){return n.id!==e}))})),P("already deleted"),setTimeout((function(){P("")}),3e3)}))}})]})};t(40);r.a.render(Object(a.jsx)(m,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.85eda25b.chunk.js.map